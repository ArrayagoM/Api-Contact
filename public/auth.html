<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>API Contact | Autenticación</title>
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/auth.css" />
    <link rel="icon" href="/favicon.ico" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <div data-component="navbar"></div>

    <div class="main-content">
      <div class="container">
        <div class="form-section fade-in">
          <div id="register-container">
            <h3><i class="fas fa-user-plus"></i> Crear cuenta</h3>
            <p>
              Regístrate para obtener tu endpoint personalizado y comenzar a recibir formularios.
            </p>

            <form id="register-form" autocomplete="off">
              <div class="form-group">
                <label for="name">Nombre completo</label>
                <input
                  type="text"
                  id="name"
                  name="name"
                  class="form-control"
                  placeholder="Ej: Juan Pérez"
                  required
                />
              </div>

              <div class="form-group">
                <label for="email">Email</label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  class="form-control"
                  placeholder="Ej: tu@email.com"
                  required
                />
                <small class="text-muted">Este será el email donde recibirás los formularios</small>
              </div>

              <div class="form-group">
                <label for="password">Contraseña</label>
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="form-control"
                  placeholder="Crea una contraseña segura"
                  required
                  minlength="6"
                />
              </div>

              <div class="form-group">
                <label for="formSlug">Tu identificador único (slug)</label>
                <input
                  type="text"
                  id="formSlug"
                  name="formSlug"
                  class="form-control"
                  placeholder="Ej: miempresa-contacto"
                  required
                  pattern="[a-z0-9-]+"
                  title="Solo letras minúsculas, números y guiones"
                />
                <small class="text-muted"
                  >Este será parte de tu URL única (ej: /form/miempresa-contacto)</small
                >
              </div>

              <button type="submit" class="btn btn-block">
                <span class="btn-text">Crear mi cuenta</span>
                <i class="fas fa-spinner fa-spin hidden"></i>
              </button>
            </form>

            <p class="auth-toggle">
              ¿Ya tienes cuenta? <a href="#" data-auth-toggle="login">Inicia sesión aquí</a>
            </p>
          </div>

          <div id="login-container" class="hidden">
            <h3><i class="fas fa-sign-in-alt"></i> Iniciar sesión</h3>
            <p>Ingresa tus credenciales para acceder a tu cuenta.</p>

            <form id="login-form" autocomplete="off">
              <div class="form-group">
                <label for="login-email">Email</label>
                <input
                  type="email"
                  id="login-email"
                  name="email"
                  class="form-control"
                  placeholder="Tu email registrado"
                  required
                />
              </div>

              <div class="form-group">
                <label for="login-password">Contraseña</label>
                <input
                  type="password"
                  id="login-password"
                  name="password"
                  class="form-control"
                  placeholder="Tu contraseña"
                  required
                  minlength="6"
                />
              </div>

              <button type="submit" class="btn btn-block">
                <span class="btn-text">Iniciar sesión</span>
                <i class="fas fa-spinner fa-spin hidden"></i>
              </button>
            </form>

            <p class="auth-toggle">
              ¿No tienes cuenta? <a href="#" data-auth-toggle="register">Regístrate aquí</a>
            </p>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer-content">
        <div class="footer-column">
          <h3>API Contact</h3>
          <p>La solución más simple para recibir formularios de contacto en tu email.</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-github"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
          </div>
        </div>
        <div class="footer-column">
          <h3>Recursos</h3>
          <ul class="footer-links">
            <li>
              <a href="../views/documentation.html"><i class="fas fa-book"></i> Documentación</a>
            </li>
            <li>
              <a href="../views/examples.html"><i class="fas fa-code"></i> Ejemplos</a>
            </li>
            <li>
              <a href="../views/security.html"><i class="fas fa-shield-alt"></i> Seguridad</a>
            </li>
          </ul>
        </div>
        <div class="footer-column">
          <h3>Legal</h3>
          <ul class="footer-links">
            <li>
              <a href="#"><i class="fas fa-file-contract"></i> Términos</a>
            </li>
            <li>
              <a href="#"><i class="fas fa-lock"></i> Privacidad</a>
            </li>
            <li>
              <a href="#"><i class="fas fa-cookie-bite"></i> Cookies</a>
            </li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2023 API Contact. Licencia MIT.</p>
      </div>
    </footer>

    <div id="toast-container"></div>

    <script>
      window.appState = {
        token: localStorage.getItem('apiContactToken') || null,
        user: JSON.parse(localStorage.getItem('apiContactUser')) || null,
      };
    </script>
    <script src="../js/main.js"></script>
    <script src="/js/auth.js"></script>
  </body>
</html>
